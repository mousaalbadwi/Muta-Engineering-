@{
    Layout = null;
    var title = ViewData["Title"] ?? "Admin Dashboard";
}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>@title • Mutah Admin</title>
    <link rel="icon" type="image/jpeg" href="~/img/logo.jpg" sizes="32x32" asp-append-version="true" />
    <link rel="icon" type="image/jpeg" href="~/img/logo.jpg" sizes="16x16" asp-append-version="true" />
    <link rel="apple-touch-icon" href="~/img/logo.jpg" asp-append-version="true" />
    <!-- Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <!-- Custom style -->
    <link href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.all.min.js"></script>

    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f7f8fa;
        }

        .sidebar {
            width: 240px;
            height: 100vh;
            background: #ffffff;
            border-right: 1px solid #e5e7eb;
            position: fixed;
            top: 0;
            left: 0;
            padding: 1.5rem 1rem;
        }

            .sidebar a {
                color: #333;
                text-decoration: none;
                display: block;
                padding: .6rem 1rem;
                border-radius: 8px;
                margin-bottom: .4rem;
            }

                .sidebar a:hover, .sidebar a.active {
                    background-color: #0d6efd;
                    color: #fff;
                }

        .content {
            margin-left: 250px;
            padding: 2rem;
        }

        .navbar {
            background: #fff;
            border-bottom: 1px solid #e5e7eb;
        }

        .card {
            border: none;
            border-radius: 16px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

       


    </style>
</head>
<body>
    @await Html.PartialAsync("AdminSidebar")
    <div class="content">
        @await Html.PartialAsync("AdminNavbar")
        <main class="mt-4">
            @RenderBody()
        </main>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>



    <script>
        // Toast helper (success)
        function toastSuccess(msg) {
          if (!msg) return;
          Swal.fire({
            toast: true,
            icon: 'success',
            title: msg,
            position: 'top-end',
            showConfirmButton: false,
            timer: 1800,
            timerProgressBar: true
          });
        }

        // Global delete confirmation (delegated)
        document.addEventListener('click', function (e) {
          const btn = e.target.closest('.js-delete');
          if (!btn) return;

          e.preventDefault();
          const form = document.getElementById(btn.dataset.form);
          if (!form) return;

          const name = btn.dataset.name || 'this item';

          Swal.fire({
            title: 'Delete?',
            text: `Are you sure you want to delete ${name}?`,
            icon: 'warning',
            showCancelButton: true,
            confirmButtonText: 'Yes, delete',
            cancelButtonText: 'Cancel',
            confirmButtonColor: '#dc3545'
          }).then((r) => {
            if (r.isConfirmed) {
              form.submit();
            }
          });
        });
    </script>

    @{
        // trigger toast if TempData["Ok"] exists
        var ok = TempData["Ok"] as string;
    }
    @if (!string.IsNullOrWhiteSpace(ok))
    {
        <script>toastSuccess(@Html.Raw(System.Text.Json.JsonSerializer.Serialize(ok)));</script>
    }



    @RenderSection("Scripts", required: false)
</body>
</html>

